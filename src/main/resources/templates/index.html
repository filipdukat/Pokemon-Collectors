<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<!--    <link rel="stylesheet" th:href="@{/css/style.css}">-->
    <meta charset="UTF-8">
    <title>Pokemon Card Service</title>
</head>
<body>
<h1>Welcome to the front page!</h1>
<h2 id="success-message" th:if="${success != null}" th:text="${'Success: ' + success}"></h2>
<h2 id="error-message" th:if="${error != null}" th:text="${'Error: ' + error}"></h2>

<!--https://stackoverflow.com/questions/56579301/how-do-i-hide-login-link-and-show-logout-link-in-homepage-navbar-once-user-logs-->
<div sec:authorize="!isAuthenticated()">
        <a href="/login">
            Log In
        </a>
</div>

<div sec:authorize="!isAuthenticated()">
    <a href="/register">
        Sign Up
    </a>
</div>

<div sec:authorize="isAuthenticated()">
    <a href="/logout">
        Log Out
    </a>
</div>

<div sec:authorize="isAuthenticated()" th:if="${!hasTrainer}">
<!--TODO: This should only appear after login-->
    <a href="/trainer-creation">
        Create your trainer
    </a>
</div>

<div sec:authorize="isAuthenticated()" th:if="${hasTrainer}">
    <a href="/packs-opening">
        Packs Opening
    </a>
</div>

<div sec:authorize="isAuthenticated()" th:if="${hasTrainer}">
    <a href="/auctions/sell">
        Sell cards
    </a>
</div>

<div sec:authorize="isAuthenticated()" th:if="${hasTrainer}">
    <a href="/auctions/buy">
        Buy cards
    </a>
</div>

<span sec:authorize="isAuthenticated()" th:text="'You are logged in as: ' + ${user.getUsername()}"></span>

</body>
</html>